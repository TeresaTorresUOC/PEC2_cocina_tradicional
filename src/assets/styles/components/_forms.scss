@use "../variables" as vars;
@use "../_dependencies" as dep;
@use "../utils/mixins" as *;

@include layer-components {
  .form {
    @include card-surface;
    padding: 1.5rem;
    background: color-mix(in srgb, #ffffff 80%, rgba(255, 111, 97, 0.08));
  }

  fieldset {
    border: dep.$form-border;
    border-radius: dep.$form-radius;
    padding: 1.25rem;
    display: grid;
    gap: 0.85rem;
  }

  legend {
    font-weight: 700;
    padding: 0 0.25rem;
  }

  label {
    font-weight: 600;
  }

  input,
  textarea {
    width: 100%;
    padding: 0.85rem 1rem;
    border-radius: dep.$form-radius;
    border: dep.$form-border;
    background: #fff;
    font-family: inherit;
    box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.04);
  }

  input:focus-visible,
  textarea:focus-visible {
    outline: 2px solid color-mix(in srgb, vars.$emerald 65%, #fff 35%);
    outline-offset: 2px;
  }

  .toggle {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    font-weight: 600;
  }

  .form__actions {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 1rem;
    flex-wrap: wrap;
  }

  .form:has(input:focus-visible),
  .form:has(textarea:focus-visible) {
    outline: 2px solid color-mix(in lab, vars.$coral 55%, #ffffff 45%);
    outline-offset: 4px;
  }
}